<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>H3 Geospatial Indexing System • h3o</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="H3 Geospatial Indexing System">
<meta property="og:description" content="A dependency free interface to the H3 geospatial indexing system utilizing the Rust library h3o &lt;https://github.com/HydroniumLabs/h3o&gt; via the extendr library &lt;https://github.com/extendr/extendr&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">h3o</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="h3o">h3o<a class="anchor" aria-label="anchor" href="#h3o"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>h3o is a system-dependency free package to interact with the H3 Geospatial Indexing system by Uber. h3o utilizes the Rust library h3o with is a pure rust implementation of H3 and does not link or use Uber’s H3 C library. h3o R interface is powered by <a href="https://extendr.github.io/" class="external-link">extendr</a> and should be able to compile on any machine.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of h3o from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"JosiahParry/h3o"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>To illustrate the basic usage, we can first create an sf object of random points.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pnts</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">100</span>, <span class="op">-</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">40</span>, <span class="fl">50</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span></span>
<span>    coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span>, </span>
<span>    crs <span class="op">=</span> <span class="fl">4326</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>h3o utilizes vctrs to create H3 class vectors so that they can work seemlessly within a tidyverse workflow.</p>
<p>h3o is intended to work with the sf package for geometric operations. H3 vectors can be created from <code>POINT</code> geometry columns (<code>sfc</code> objects).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">h3o</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pnts</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>h3 <span class="op">=</span> <span class="fu"><a href="reference/H3.html">h3_from_points</a></span><span class="op">(</span><span class="va">geometry</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 100 features and 1 field</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -4.640664 ymin: 40.12973 xmax: 9.89838 ymax: 49.99956</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; # A tibble: 100 × 2</span></span>
<span><span class="co">#&gt;                  geometry              h3</span></span>
<span><span class="co">#&gt;  *            &lt;POINT [°]&gt;            &lt;H3&gt;</span></span>
<span><span class="co">#&gt;  1  (-0.1748193 48.79705) 8518656bfffffff</span></span>
<span><span class="co">#&gt;  2   (0.8532506 46.80069) 85186893fffffff</span></span>
<span><span class="co">#&gt;  3     (6.62694 42.85004) 85396bb7fffffff</span></span>
<span><span class="co">#&gt;  4 (-0.03733749 48.06814) 8518610ffffffff</span></span>
<span><span class="co">#&gt;  5    (0.464929 45.62997) 85186b97fffffff</span></span>
<span><span class="co">#&gt;  6    (6.293697 42.92604) 8539694bfffffff</span></span>
<span><span class="co">#&gt;  7  (-0.6392504 42.96113) 85397593fffffff</span></span>
<span><span class="co">#&gt;  8    (2.020749 45.14571) 85396597fffffff</span></span>
<span><span class="co">#&gt;  9     (6.787495 41.8565) 85394d8bfffffff</span></span>
<span><span class="co">#&gt; 10   (-2.065804 49.31534) 85186293fffffff</span></span>
<span><span class="co">#&gt; # … with 90 more rows</span></span></code></pre></div>
<p>Additionally, H3 vectors also have an <code>st_as_sfc()</code> method which lets us convert vectors of H3 cell indexes into <code>POLYGON</code>s.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h3_cells</span> <span class="op">&lt;-</span> <span class="va">pnts</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    h3 <span class="op">=</span> <span class="fu"><a href="reference/H3.html">h3_from_points</a></span><span class="op">(</span><span class="va">geometry</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>    <span class="co"># replace geometry</span></span>
<span>    geometry <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sfc.html" class="external-link">st_as_sfc</a></span><span class="op">(</span><span class="va">h3</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="co"># plot the hexagons</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">h3_cells</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-3-1.png" width="100%"></p>
<p>H3 cell centroids can be returned using <code><a href="reference/H3.html">h3_to_points()</a></code>. If <code>sf</code> is avilable the results will be returned as an <code>sfc</code> (sf column) object. Otherwise it will return a list of <code>sfg</code> (sf geometries).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># fetch h3 column</span></span>
<span><span class="va">h3s</span> <span class="op">&lt;-</span> <span class="va">h3_cells</span><span class="op">$</span><span class="va">h3</span></span>
<span></span>
<span><span class="co"># get there centers</span></span>
<span><span class="va">h3_centers</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/H3.html">h3_to_points</a></span><span class="op">(</span><span class="va">h3s</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># plot the hexagons with the centers</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">h3_cells</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">h3_centers</span>, pch <span class="op">=</span> <span class="fl">16</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, col <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="sf-compatibility">sf compatibility<a class="anchor" aria-label="anchor" href="#sf-compatibility"></a>
</h2>
<p>h3o was designed with sf in mind. H3 is a geospatial indexing system so it is important to be able to go back and from from H3 and sf objects. H3 object can be created from sfc objects and vice versa.sfc objects can also be created using the <code>sf::sf_as_sfc()</code> method for <code>H3</code> or <code>H3Edge</code> vectors.</p>
<p><code>H3Edge</code> vectors represent the boundaries of H3 cells. They can be created with <code><a href="reference/edges.html">h3_edges()</a></code>, <code><a href="reference/edges.html">h3_shared_edge_pairwise()</a></code>, and <code><a href="reference/edges.html">h3_shared_edge_sparse()</a></code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cell_edges</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/edges.html">h3_edges</a></span><span class="op">(</span><span class="va">h3s</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">cell_edges</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; &lt;H3Edge[6]&gt;</span></span>
<span><span class="co">#&gt; [1] 11418657ffffffff 12418657ffffffff 13418657ffffffff 14418657ffffffff</span></span>
<span><span class="co">#&gt; [5] 15418657ffffffff 16418657ffffffff</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; &lt;H3Edge[6]&gt;</span></span>
<span><span class="co">#&gt; [1] 114186c3ffffffff 124186c3ffffffff 134186c3ffffffff 144186c3ffffffff</span></span>
<span><span class="co">#&gt; [5] 154186c3ffffffff 164186c3ffffffff</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; &lt;H3Edge[6]&gt;</span></span>
<span><span class="co">#&gt; [1] 114396bbffffffff 124396bbffffffff 134396bbffffffff 144396bbffffffff</span></span>
<span><span class="co">#&gt; [5] 154396bbffffffff 164396bbffffffff</span></span></code></pre></div>
<p>We’ve created a list of each cell’s edges. We can flatten them using <code><a href="reference/edges.html">flatten_edges()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cell_edges</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/edges.html">flatten_edges</a></span><span class="op">(</span><span class="va">cell_edges</span><span class="op">)</span></span>
<span><span class="va">cell_edges</span></span>
<span><span class="co">#&gt; &lt;H3Edge[18]&gt;</span></span>
<span><span class="co">#&gt;  [1] 11418657ffffffff 12418657ffffffff 13418657ffffffff 14418657ffffffff</span></span>
<span><span class="co">#&gt;  [5] 15418657ffffffff 16418657ffffffff 114186c3ffffffff 124186c3ffffffff</span></span>
<span><span class="co">#&gt;  [9] 134186c3ffffffff 144186c3ffffffff 154186c3ffffffff 164186c3ffffffff</span></span>
<span><span class="co">#&gt; [13] 114396bbffffffff 124396bbffffffff 134396bbffffffff 144396bbffffffff</span></span>
<span><span class="co">#&gt; [17] 154396bbffffffff 164396bbffffffff</span></span></code></pre></div>
<p>These can be cast to sfc objects using its <code>st_as_sfc()</code> method.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sfc.html" class="external-link">st_as_sfc</a></span><span class="op">(</span><span class="va">cell_edges</span><span class="op">)</span></span>
<span><span class="co">#&gt; Geometry set for 18 features </span></span>
<span><span class="co">#&gt; Geometry type: LINESTRING</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -0.1887568 ymin: 42.46421 xmax: 6.894879 ymax: 49.06668</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; First 5 geometries:</span></span>
<span><span class="co">#&gt; LINESTRING (0.06718183 48.61807, 0.3797637 48.6...</span></span>
<span><span class="co">#&gt; LINESTRING (-0.1314807 49.00394, -0.1887568 48....</span></span>
<span><span class="co">#&gt; LINESTRING (-0.1887568 48.77929, 0.06718183 48....</span></span>
<span><span class="co">#&gt; LINESTRING (0.438739 48.9049, 0.1834448 49.06668)</span></span>
<span><span class="co">#&gt; LINESTRING (0.3797637 48.68094, 0.438739 48.9049)</span></span></code></pre></div>
<p>Additionally, you can get the vertexes of H3 cell indexes using <code><a href="reference/H3.html">h3_to_vertexes()</a></code> which returns an <code>sfc_MULTIPOINT</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/H3.html">h3_to_vertexes</a></span><span class="op">(</span><span class="va">h3s</span><span class="op">)</span></span>
<span><span class="co">#&gt; Geometry set for 100 features </span></span>
<span><span class="co">#&gt; Geometry type: MULTIPOINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -5.026879 ymin: 39.94716 xmax: 10.23339 ymax: 50.28041</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; First 5 geometries:</span></span>
<span><span class="co">#&gt; MULTIPOINT ((0.1834448 49.06668), (-0.1314807 4...</span></span>
<span><span class="co">#&gt; MULTIPOINT ((1.137485 47.13162), (0.8340071 47....</span></span>
<span><span class="co">#&gt; MULTIPOINT ((6.354821 42.84855), (6.282053 42.6...</span></span>
<span><span class="co">#&gt; MULTIPOINT ((0.009641755 48.393), (-0.3021414 4...</span></span>
<span><span class="co">#&gt; MULTIPOINT ((0.2465874 45.86362), (-0.05258159 ...</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="bench-marks">Bench marks:<a class="anchor" aria-label="anchor" href="#bench-marks"></a>
</h2>
<p>Since h3o is written in Rust, it is very fast.</p>
<p>Creating polygons</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h3_strs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">h3s</span><span class="op">)</span></span>
<span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  h3o <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sfc.html" class="external-link">st_as_sfc</a></span><span class="op">(</span><span class="va">h3s</span><span class="op">)</span>,</span>
<span>  h3jsr <span class="op">=</span> <span class="fu">h3jsr</span><span class="fu">::</span><span class="fu"><a href="https://obrl-soil.github.io/h3jsr/reference/cell_to_polygon.html" class="external-link">cell_to_polygon</a></span><span class="op">(</span><span class="va">h3_strs</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 h3o        305.98µs 327.59µs     2997.   26.84KB     8.23</span></span>
<span><span class="co">#&gt; 2 h3jsr        7.51ms   7.81ms      124.    3.02MB    24.8</span></span></code></pre></div>
<p>Converting points to cells</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  h3o <span class="op">=</span> <span class="fu"><a href="reference/H3.html">h3_from_points</a></span><span class="op">(</span><span class="va">pnts</span><span class="op">$</span><span class="va">geometry</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  h3jsr <span class="op">=</span> <span class="fu">h3jsr</span><span class="fu">::</span><span class="fu"><a href="https://obrl-soil.github.io/h3jsr/reference/point_to_cell.html" class="external-link">point_to_cell</a></span><span class="op">(</span><span class="va">pnts</span><span class="op">$</span><span class="va">geometry</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 h3o        108.49µs 124.93µs     6254.      848B     11.5</span></span>
<span><span class="co">#&gt; 2 h3jsr        2.03ms   2.17ms      424.     856KB     13.0</span></span></code></pre></div>
<p>Retrieve edges</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  h3o <span class="op">=</span> <span class="fu"><a href="reference/edges.html">h3_edges</a></span><span class="op">(</span><span class="va">h3s</span><span class="op">)</span>,</span>
<span>  h3jsr <span class="op">=</span> <span class="fu">h3jsr</span><span class="fu">::</span><span class="fu"><a href="https://obrl-soil.github.io/h3jsr/reference/get_udedges.html" class="external-link">get_udedges</a></span><span class="op">(</span><span class="va">h3_strs</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 h3o         596.6µs 641.12µs     1103.      848B     12.1</span></span>
<span><span class="co">#&gt; 2 h3jsr         1.8ms   2.04ms      456.    82.8KB     13.0</span></span></code></pre></div>
<p>Get origins and destinations from edges.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get edges for a single location</span></span>
<span><span class="va">eds</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/edges.html">h3_edges</a></span><span class="op">(</span><span class="va">h3s</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co"># strings for h3jsr</span></span>
<span><span class="va">eds_str</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">eds</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  h3o <span class="op">=</span> <span class="fu"><a href="reference/edges.html">h3_edge_cells</a></span><span class="op">(</span><span class="va">eds</span><span class="op">)</span>,</span>
<span>  h3jsr <span class="op">=</span> <span class="fu">h3jsr</span><span class="fu">::</span><span class="fu"><a href="https://obrl-soil.github.io/h3jsr/reference/get_udends.html" class="external-link">get_udends</a></span><span class="op">(</span><span class="va">eds_str</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 h3o          20.1µs   25.4µs    33736.    12.7KB     13.5</span></span>
<span><span class="co">#&gt; 2 h3jsr         464µs  628.7µs     1461.    34.8KB     18.6</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing h3o</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Josiah Parry <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-9910-865X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Josiah Parry.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
